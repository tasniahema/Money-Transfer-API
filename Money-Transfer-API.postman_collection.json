{
  "info": {
    "_postman_id": "e2a6e9f3-c3e2-4272-b5b8-96a08c528a59",
    "name": "Money-Transfer-API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "41198784",
    "_collection_link": "https://go.postman.co/collection/41198784-e2a6e9f3-c3e2-4272-b5b8-96a08c528a59?source=collection_link"
  },
  "item": [
    {
      "name": "AUTH",
      "item": [
        {
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "let res = pm.response.json();\r",
                  "let status = pm.response.code;\r",
                  "\r",
                  "// token auto set to environment\r",
                  "pm.environment.set(\"admin_token\", res.token);\r",
                  "\r",
                  "// optional check\r",
                  "pm.test(\"Admin token saved\", function () {\r",
                  "    pm.expect(res.token).to.not.be.null;\r",
                  "});\r",
                  "\r",
                  "//COMMON ASSERTIONS\r",
                  "\r",
                  "pm.test(\"Response body exists\", function () {\r",
                  "    pm.expect(pm.response.text()).to.not.be.empty;\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Response time is less than 2000ms\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Content-Type is application/json\", function () {\r",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
                  "        .to.include(\"application/json\");\r",
                  "});\r",
                  "\r",
                  "//  SUCCESS LOGIN\r",
                  "\r",
                  "if (status === 200) {\r",
                  "\r",
                  "    pm.test(\"Status code is 200 (Login Success)\", function () {\r",
                  "        pm.response.to.have.status(200);\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"Auth token exists\", function () {\r",
                  "        pm.expect(res).to.have.property(\"token\");\r",
                  "        pm.expect(res.token).to.be.a(\"string\").and.not.be.empty;\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"User role is Admin\", function () {\r",
                  "        pm.expect(res.role).to.eql(\"Admin\");\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"Login message is correct\", function () {\r",
                  "        pm.expect(res.message).to.eql(\"Login successful\");\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"Password is not exposed\", function () {\r",
                  "        pm.expect(res).to.not.have.property(\"password\");\r",
                  "    });\r",
                  "}\r",
                  "\r",
                  "//  INVALID LOGIN \r",
                  "\r",
                  "if (status === 401 || status === 404) {\r",
                  "\r",
                  "    pm.test(\"Invalid login status code\", function () {\r",
                  "        pm.expect(status).to.be.oneOf([401, 404]);\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"Error message exists\", function () {\r",
                  "        pm.expect(res).to.have.property(\"message\");\r",
                  "    });\r",
                  "\r",
                  "    pm.test(\"Token is not returned for invalid login\", function () {\r",
                  "        pm.expect(res).to.not.have.property(\"token\");\r",
                  "    });\r",
                  "}\r",
                  "\r",
                  "//  REQUEST BODY ASSERTION\r",
                  "\r",
                  "let body = JSON.parse(pm.request.body.raw);\r",
                  "\r",
                  "pm.test(\"Email & Password sent correctly\", function () {\r",
                  "    pm.expect(body.email).to.eql(\"admin@dmoney.com\");\r",
                  "    pm.expect(body.password).to.eql(\"admin123\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"email\": \"admin@dmoney.com\",\r\n    \"password\": \"admin123\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/user/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "login Customer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"email\": \"new87794@example.com\",\r\n    \"password\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/user/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "login Agent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"email\": \"new66856@example.com\",\r\n    \"password\": \"123456\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/user/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "login"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Get User List",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "let res = pm.response.json();\r",
              "pm.test(\"Status code is 200\", () => {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"Response time is less than 1000ms\", () => {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "pm.test(\"Users length <= count\", () => {\r",
              "    pm.expect(res.users.length).to.be.at.most(res.count);\r",
              "});\r",
              "\r",
              "pm.test(\"Page is within total pages\", () => {\r",
              "    pm.expect(res.page).to.be.at.most(res.totalPages);\r",
              "});\r",
              "pm.test(\"Message is User list\", function () {\r",
              "    pm.expect(res.message).to.eql(\"User list\");\r",
              "});\r",
              "\r",
              "pm.test(\"Count is a valid positive number\", function () {\r",
              "    pm.expect(res.count).to.be.a(\"number\").and.to.be.above(0);\r",
              "});\r",
              "\r",
              "pm.test(\"Page is a valid positive number\", function () {\r",
              "    pm.expect(res.page).to.be.a(\"number\").and.to.be.above(0);\r",
              "});\r",
              "\r",
              "pm.test(\"Total pages is a valid positive number\", function () {\r",
              "    pm.expect(res.totalPages).to.be.a(\"number\").and.to.be.above(0);\r",
              "});\r",
              "\r",
              "pm.test(\"Users array exists\", function () {\r",
              "    pm.expect(res.users).to.be.an(\"array\");\r",
              "});\r",
              "let user = res.users[0];\r",
              "pm.test(\"User id is 1\", () => {\r",
              "    pm.expect(user.id).to.eql(1);\r",
              "});\r",
              "\r",
              "pm.test(\"User name is System Account\", () => {\r",
              "    pm.expect(user.name).to.eql(\"System Account\");\r",
              "});\r",
              "\r",
              "pm.test(\"User email is correct\", () => {\r",
              "    pm.expect(user.email).to.eql(\"system@dmoney.com\");\r",
              "});\r",
              "\r",
              "pm.test(\"Phone number is SYSTEM\", () => {\r",
              "    pm.expect(user.phone_number).to.eql(\"SYSTEM\");\r",
              "});\r",
              "\r",
              "pm.test(\"NID is correct\", () => {\r",
              "    pm.expect(user.nid).to.eql(\"000000000\");\r",
              "});\r",
              "\r",
              "pm.test(\"Role is System\", () => {\r",
              "    pm.expect(user.role).to.eql(\"System\");\r",
              "});\r",
              "pm.test(\"Wallet object exists\", () => {\r",
              "    pm.expect(user.wallet).to.be.an(\"object\");\r",
              "});\r",
              "\r",
              "let wallet = user.wallet;\r",
              "\r",
              "pm.test(\"Wallet id exists\", () => {\r",
              "    pm.expect(wallet.id).to.exist;\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet user_id matches user id\", () => {\r",
              "    pm.expect(wallet.user_id).to.eql(user.id);\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet balance exists\", () => {\r",
              "    pm.expect(wallet.balance).to.exist;\r",
              "});\r",
              "\r",
              "\r",
              "//Required fields exist\r",
              "pm.test(\"Each user has required basic fields\", () => {\r",
              "    res.users.forEach(user => {\r",
              "        pm.expect(user).to.have.property(\"id\");\r",
              "        pm.expect(user).to.have.property(\"name\");\r",
              "        pm.expect(user).to.have.property(\"email\");\r",
              "        pm.expect(user).to.have.property(\"phone_number\");\r",
              "        pm.expect(user).to.have.property(\"nid\");\r",
              "        pm.expect(user).to.have.property(\"role\");\r",
              "        pm.expect(user).to.have.property(\"wallet\");\r",
              "    });\r",
              "});\r",
              "//Wallet object- required fields\r",
              "pm.test(\"Each user wallet has required fields\", () => {\r",
              "    res.users.forEach(user => {\r",
              "        pm.expect(user.wallet).to.be.an(\"object\");\r",
              "        pm.expect(user.wallet).to.have.property(\"id\");\r",
              "        pm.expect(user.wallet).to.have.property(\"user_id\");\r",
              "        pm.expect(user.wallet).to.have.property(\"balance\");\r",
              "        pm.expect(user.wallet).to.have.property(\"created_at\");\r",
              "        pm.expect(user.wallet).to.have.property(\"updated_at\");\r",
              "    });\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/user/list",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "user",
            "list"
          ]
        }
      },
      "response": []
    },
    {
      "name": "search-user-by-email",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "pm.test(\"Message field exists\", function () {\r",
              "    pm.expect(pm.response.json()).to.have.property(\"message\");\r",
              "});\r",
              "pm.test(\"Correct success message\", function () {\r",
              "    pm.expect(pm.response.json().message).to.eql(\"User(s) found\");\r",
              "});\r",
              "pm.test(\"Count field exists\", function () {\r",
              "    pm.expect(pm.response.json()).to.have.property(\"count\");\r",
              "});\r",
              "pm.test(\"Count is 1\", function () {\r",
              "    pm.expect(pm.response.json().count).to.eql(1);\r",
              "});\r",
              "pm.test(\"Users array exists\", function () {\r",
              "    pm.expect(pm.response.json()).to.have.property(\"users\");\r",
              "});\r",
              "pm.test(\"Users is an array\", function () {\r",
              "    pm.expect(pm.response.json().users).to.be.an(\"array\");\r",
              "});\r",
              "pm.test(\"Users length matches count\", function () {\r",
              "    pm.expect(pm.response.json().users.length)\r",
              "      .to.eql(pm.response.json().count);\r",
              "});\r",
              "pm.test(\"User object has all required fields\", function () {\r",
              "    let user = pm.response.json().users[0];\r",
              "    pm.expect(user).to.have.property(\"id\");\r",
              "    pm.expect(user).to.have.property(\"name\");\r",
              "    pm.expect(user).to.have.property(\"email\");\r",
              "    pm.expect(user).to.have.property(\"phone_number\");\r",
              "    pm.expect(user).to.have.property(\"nid\");\r",
              "    pm.expect(user).to.have.property(\"role\");\r",
              "});\r",
              "pm.test(\"Phone number length is correct\", function () {\r",
              "    pm.expect(pm.response.json().users[0].phone_number.length)\r",
              "      .to.eql(11);\r",
              "});\r",
              "pm.test(\"User id is a number\", function () {\r",
              "    pm.expect(pm.response.json().users[0].id).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Count is a number\", function () {\r",
              "    pm.expect(pm.response.json().count).to.be.a(\"number\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/user/search?email=agent1@dmoney.com",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "user",
            "search"
          ],
          "query": [
            {
              "key": "email",
              "value": "agent1@dmoney.com"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "search-user-by-id",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var res = pm.response.json();\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"Response time is less than 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "\r",
              "pm.test(\"Success message is correct\", function () {\r",
              "    pm.expect(res).to.have.property(\"message\");\r",
              "    pm.expect(res.message).to.eql(\"User found\");\r",
              "});\r",
              "\r",
              "pm.test(\"User object exists\", function () {\r",
              "    pm.expect(res).to.have.property(\"user\");\r",
              "    pm.expect(res.user).to.be.an(\"object\");\r",
              "});\r",
              "\r",
              "pm.test(\"User id is number\", function () {\r",
              "    pm.expect(res.user.id).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"User name is correct\", function () {\r",
              "    pm.expect(res.user.name).to.eql(\"System Account\");\r",
              "});\r",
              "\r",
              "\r",
              "pm.test(\"User phone number is SYSTEM\", function () {\r",
              "    pm.expect(res.user.phone_number).to.eql(\"SYSTEM\");\r",
              "});\r",
              "pm.test(\"Email is valid\", function () {\r",
              "    pm.expect(res.user.email).to.include(\"@\");\r",
              "});\r",
              "\r",
              "pm.test(\"User NID is string\", function () {\r",
              "    pm.expect(res.user.nid).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "pm.test(\"User role is System\", function () {\r",
              "    pm.expect(res.user.role).to.eql(\"System\");\r",
              "});\r",
              "\r",
              "pm.test(\"User created_at exists\", function () {\r",
              "    pm.expect(res.user).to.have.property(\"created_at\");\r",
              "});\r",
              "\r",
              "pm.test(\"User updated_at exists\", function () {\r",
              "    pm.expect(res.user).to.have.property(\"updated_at\");\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet object exists\", function () {\r",
              "    pm.expect(res.user).to.have.property(\"wallet\");\r",
              "    pm.expect(res.user.wallet).to.be.an(\"object\");\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet id is number\", function () {\r",
              "    pm.expect(res.user.wallet.id).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet user_id matches user id\", function () {\r",
              "    pm.expect(res.user.wallet.user_id).to.eql(res.user.id);\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet balance is string\", function () {\r",
              "    pm.expect(res.user.wallet.balance).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet created_at exists\", function () {\r",
              "    pm.expect(res.user.wallet).to.have.property(\"created_at\");\r",
              "});\r",
              "\r",
              "pm.test(\"Wallet updated_at exists\", function () {\r",
              "    pm.expect(res.user.wallet).to.have.property(\"updated_at\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/user/search/id/1",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "user",
            "search",
            "id",
            "1"
          ]
        }
      },
      "response": []
    },
    {
      "name": "user-create",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "var randomId = Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000;\r",
              "var phoneNumber = \"015\" + Math.floor(10000000 + Math.random() * 90000000);\r",
              "\r",
              "// Fixed name environment variable\r",
              "pm.environment.set(\"randomFullName\", \"Test user\");\r",
              "pm.environment.set(\"randomId\", randomId);\r",
              "pm.environment.set(\"phoneNumber\", phoneNumber);\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "\r",
              "var res =pm.response.json()\r",
              "pm.test(\"HTTP status code Validation\",function(){\r",
              "    pm.response.to.have.status(201)\r",
              "})\r",
              "\r",
              "pm.test(\"User Name Validation\", function () {\r",
              "    pm.expect(res.user.name).to.eql(pm.environment.get(\"randomFullName\"));\r",
              "});\r",
              "\r",
              "// Email validation\r",
              "pm.test(\"Email Validation\", function () {\r",
              "    const expectedEmail = \"new\" + pm.environment.get(\"randomId\") + \"@example.com\";\r",
              "    pm.expect(res.user.email).to.eql(expectedEmail);\r",
              "});\r",
              "\r",
              "// Phone number validation\r",
              "pm.test(\"Phone Number Validation\", function () {\r",
              "    const expectedPhone = pm.environment.get(\"phoneNumber\");\r",
              "    pm.expect(res.user.phone_number).to.eql(expectedPhone);\r",
              "});\r",
              "\r",
              "//CONTENT TYPE\r",
              "\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.response.to.have.header(\"Content-Type\");\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// RESPONSE TIME \r",
              "\r",
              "pm.test(\"Response time is less than 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(3000);\r",
              "});\r",
              "\r",
              "// MESSAGE \r",
              "\r",
              "pm.test(\"Success message is correct\", function () {\r",
              "    pm.expect(res).to.have.property(\"message\");\r",
              "    pm.expect(res.message).to.eql(\"User created successfully\");\r",
              "});\r",
              "\r",
              "// USER OBJECT \r",
              "\r",
              "pm.test(\"User object exists\", function () {\r",
              "    pm.expect(res).to.have.property(\"user\");\r",
              "    pm.expect(res.user).to.be.an(\"object\");\r",
              "});\r",
              "\r",
              "//USER FIELDS \r",
              "\r",
              "pm.test(\"User id is number\", function () {\r",
              "    pm.expect(res.user.id).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "\r",
              "pm.test(\"User phone number length is 11\", function () {\r",
              "    pm.expect(res.user.phone_number.length).to.eql(11);\r",
              "});\r",
              "\r",
              "pm.test(\"User role is Customer\", function () {\r",
              "    pm.expect(res.user.role).to.eql(\"Customer\");\r",
              "});\r",
              "\r",
              "// DATE FIELDS \r",
              "\r",
              "pm.test(\"User created_at exists\", function () {\r",
              "    pm.expect(res.user).to.have.property(\"created_at\");\r",
              "});\r",
              "\r",
              "pm.test(\"User updated_at exists\", function () {\r",
              "    pm.expect(res.user).to.have.property(\"updated_at\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"name\": \"{{randomFullName}}\",\r\n  \"email\": \"new{{randomId}}@example.com\",\r\n  \"password\": \"123456\",\r\n  \"phone_number\": \"{{phoneNumber}}\",\r\n  \"nid\": \"12345678\",\r\n  \"role\": \"Customer\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/user/create",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "user",
            "create"
          ]
        }
      },
      "response": []
    },
    {
      "name": "new admin user",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "pm.test(\"Message field exists\", function () {\r",
              "    pm.expect(pm.response.json()).to.have.property(\"message\");\r",
              "});\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"User found\");\r",
              "});\r",
              "pm.test(\"User object exists\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.user).to.exist;\r",
              "});\r",
              "pm.test(\"Email should be valid \", function () {\r",
              "\r",
              "    var res = pm.response.json();\r",
              "    var email = res.user.email;\r",
              "\r",
              "    pm.expect(email).to.be.a(\"string\");\r",
              "    pm.expect(email).to.include(\"@\");\r",
              "    pm.expect(email).to.include(\".\");\r",
              "    pm.expect(email.length).to.be.above(5);\r",
              "\r",
              "});\r",
              "pm.test(\"Phone number should be 11 digit\", function () {\r",
              "\r",
              "    var res = pm.response.json();\r",
              "    var phone = res.user.phone_number;\r",
              "\r",
              "    pm.expect(phone).to.be.a(\"string\");\r",
              "    pm.expect(phone.length).to.eql(11);\r",
              "    pm.expect(phone.startsWith(\"01\")).to.be.true;\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"User fields type validation\", function () {\r",
              "    var user = pm.response.json().user;\r",
              "\r",
              "    pm.expect(user.id).to.be.a(\"number\");\r",
              "    pm.expect(user.name).to.be.a(\"string\");\r",
              "    pm.expect(user.email).to.be.a(\"string\");\r",
              "    pm.expect(user.phone_number).to.be.a(\"string\");\r",
              "    pm.expect(user.nid).to.be.a(\"string\");\r",
              "    pm.expect(user.role).to.be.a(\"string\");\r",
              "});\r",
              "pm.test(\"Role is valid\", function () {\r",
              "    var role = pm.response.json().user.role;\r",
              "    var allowedRoles = [\"Admin\", \"Customer\", \"Agent\", \"Distributor\"];\r",
              "    \r",
              "    pm.expect(allowedRoles).to.include(role);\r",
              "});\r",
              "pm.test(\"Wallet object exists\", function () {\r",
              "    var wallet = pm.response.json().user.wallet;\r",
              "    pm.expect(wallet).to.exist;\r",
              "});\r",
              "pm.test(\"Wallet fields type validation\", function () {\r",
              "    var wallet = pm.response.json().user.wallet;\r",
              "\r",
              "    pm.expect(wallet.id).to.be.a(\"number\");\r",
              "    pm.expect(wallet.user_id).to.be.a(\"number\");\r",
              "    pm.expect(wallet.balance).to.be.a(\"string\");\r",
              "});\r",
              "pm.test(\"Wallet user_id matches user id\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.user.wallet.user_id).to.eql(res.user.id);\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/user/search/id/119",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "user",
            "search",
            "id",
            "119"
          ]
        }
      },
      "response": []
    },
    {
      "name": "balance-check",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var res = pm.response.json();\r",
              "\r",
              "// STATUS CODE \r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "// CONTENT TYPE\r",
              "\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// RESPONSE TIME \r",
              "\r",
              "pm.test(\"Response time is less than 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "\r",
              "//MESSAGE\r",
              "\r",
              "pm.test(\"Balance success message is correct\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Balance retrieved successfully\");\r",
              "});\r",
              "\r",
              "// ACCOUNT \r",
              "\r",
              "pm.test(\"Account number exists\", function () {\r",
              "    pm.expect(res).to.have.property(\"account\");\r",
              "});\r",
              "\r",
              "pm.test(\"Account number length is valid\", function () {\r",
              "    pm.expect(res.account.length).to.be.within(10, 15);\r",
              "});\r",
              "\r",
              "//BALANCE \r",
              "\r",
              "pm.test(\"Balance field exists\", function () {\r",
              "    pm.expect(res).to.have.property(\"balance\");\r",
              "});\r",
              "\r",
              "pm.test(\"Balance exists and not empty\", function () {\r",
              "    pm.expect(res.balance).to.exist;\r",
              "    pm.expect(res.balance).to.not.eql(\"\");\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{base_url}}/transaction/balance/01948862357",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "balance",
            "01948862357"
          ]
        }
      },
      "response": []
    },
    {
      "name": "transaction-history",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "        .to.include(\"application/json\");\r",
              "});\r",
              "pm.test(\"Response time is less than 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "pm.test(\"Message is Transaction history\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"Transaction history\");\r",
              "});\r",
              "pm.test(\"Count is a number\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.count).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Transactions is an array\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.transactions).to.be.an(\"array\");\r",
              "});\r",
              "pm.test(\"First transaction exists\", function () {\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "    pm.expect(txn).to.exist;\r",
              "});\r",
              "pm.test(\"Transaction full field validation\", function () {\r",
              "\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "\r",
              "    pm.expect(txn.id).to.be.a(\"number\");\r",
              "    pm.expect(txn.trnx_id).to.be.a(\"string\");\r",
              "    pm.expect(txn.type).to.be.a(\"string\");\r",
              "    pm.expect(txn.from_account).to.be.a(\"string\");\r",
              "    pm.expect(txn.to_account).to.be.a(\"string\");\r",
              "    pm.expect(txn.amount).to.be.a(\"string\");\r",
              "    pm.expect(txn.fee).to.be.a(\"string\");\r",
              "    pm.expect(txn.commission).to.be.a(\"string\");\r",
              "    pm.expect(txn.balance_before).to.be.a(\"string\");\r",
              "    pm.expect(txn.balance_after).to.be.a(\"string\");\r",
              "    pm.expect(txn.status).to.be.a(\"string\");\r",
              "    pm.expect(txn.created_at).to.be.a(\"string\");\r",
              "    pm.expect(txn.updated_at).to.be.a(\"string\");\r",
              "\r",
              "});\r",
              "pm.test(\"Transaction status is completed\", function () {\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "    pm.expect(txn.status).to.eql(\"completed\");\r",
              "});\r",
              "pm.test(\"Balance values are numeric\", function () {\r",
              "\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "\r",
              "    pm.expect(parseFloat(txn.balance_before)).to.be.a(\"number\");\r",
              "    pm.expect(parseFloat(txn.balance_after)).to.be.a(\"number\");\r",
              "\r",
              "});\r",
              "pm.test(\"Balance updated correctly\", function () {\r",
              "\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "\r",
              "    var before = parseFloat(txn.balance_before);\r",
              "    var after = parseFloat(txn.balance_after);\r",
              "\r",
              "    pm.expect(before).to.not.eql(after);\r",
              "\r",
              "});\r",
              "//another type test \r",
              "pm.test(\"Balance logic based on transaction type\", function () {\r",
              "\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "\r",
              "    var before = parseFloat(txn.balance_before);\r",
              "    var after = parseFloat(txn.balance_after);\r",
              "    var amount = parseFloat(txn.amount);\r",
              "\r",
              "    if (txn.type === \"deposit\") {\r",
              "        pm.expect(after).to.not.eql(before);\r",
              "    }\r",
              "\r",
              "    if (txn.type === \"withdraw\") {\r",
              "        pm.expect(after).to.be.below(before);\r",
              "    }\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"Created at has date format\", function () {\r",
              "    var txn = pm.response.json().transactions[0];\r",
              "    pm.expect(txn.created_at).to.include(\"T\");\r",
              "});\r",
              "\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{base_url}}/transaction/history/system?page=1&limit=20",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "history",
            "system"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "limit",
              "value": "20"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "transaction-details",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "\r",
              "let res = pm.response.json();\r",
              "\r",
              "\r",
              "\r",
              "pm.test(\"Status code is 200\", () => {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"Content-Type is JSON\", () => {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "pm.test(\"Response time < 1000ms\", () => {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "pm.test(\"Authorization header exists\", () => {\r",
              "    pm.expect(pm.request.headers.has(\"Authorization\")).to.be.true;\r",
              "});\r",
              "\r",
              "\r",
              " //  MESSAGE & OBJECT\r",
              "\r",
              "\r",
              "pm.test(\"Message is correct\", () => {\r",
              "    pm.expect(res.message).to.eql(\"Transaction details\");\r",
              "});\r",
              "\r",
              "pm.test(\"Transaction object exists\", () => {\r",
              "    pm.expect(res.transaction).to.be.an(\"object\");\r",
              "});\r",
              "\r",
              "  // TRANSACTION FIELDS\r",
              "\r",
              "pm.test(\"Transaction id is number\", () => {\r",
              "    pm.expect(res.transaction.id).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Transaction ID not empty\", () => {\r",
              "    pm.expect(res.transaction.trnx_id).to.not.be.empty;\r",
              "});\r",
              "\r",
              "pm.test(\"Type is deposit\", () => {\r",
              "    pm.expect(res.transaction.type).to.eql(\"deposit\");\r",
              "});\r",
              "\r",
              "pm.test(\"From account SYSTEM\", () => {\r",
              "    pm.expect(res.transaction.from_account).to.eql(\"SYSTEM\");\r",
              "});\r",
              "\r",
              "pm.test(\"To account valid phone\", () => {\r",
              "    pm.expect(res.transaction.to_account).to.match(/^01\\d{9}$/);\r",
              "});\r",
              "\r",
              "\r",
              "pm.test(\"Amount is number string\", () => {\r",
              "    pm.expect(parseFloat(res.transaction.amount)).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Fee is number string\", () => {\r",
              "    pm.expect(parseFloat(res.transaction.fee)).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Commission is number string\", () => {\r",
              "    pm.expect(parseFloat(res.transaction.commission)).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Balance before is number string\", () => {\r",
              "    pm.expect(parseFloat(res.transaction.balance_before)).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "pm.test(\"Balance after is number string\", () => {\r",
              "    pm.expect(parseFloat(res.transaction.balance_after)).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "\r",
              "   //STATUS & DATE\r",
              "\r",
              "\r",
              "pm.test(\"Transaction status completed\", () => {\r",
              "    pm.expect(res.transaction.status).to.eql(\"completed\");\r",
              "});\r",
              "\r",
              "pm.test(\"Created at exists\", () => {\r",
              "    pm.expect(res.transaction.created_at).to.not.be.empty;\r",
              "});\r",
              "\r",
              "pm.test(\"Updated at exists\", () => {\r",
              "    pm.expect(res.transaction.updated_at).to.not.be.empty;\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/{{trnx_id}}",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "{{trnx_id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "deposit-system-to-agent",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "\r",
              "let res = pm.response.json();\r",
              "\r",
              "\r",
              "// Status code\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// Content-Type\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// Response time\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "// Body not empty\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "\r",
              "\r",
              "// Message\r",
              "pm.test(\"Message exists and correct\", function () {\r",
              "    pm.expect(res.message).to.exist;\r",
              "    pm.expect(res.message).to.eql(\"Deposit successful\");\r",
              "});\r",
              "\r",
              "// Transaction ID\r",
              "pm.test(\"trnxId exists and is string\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "    pm.expect(res.trnxId).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "// Commission\r",
              "pm.test(\"Commission exists and is number\", function () {\r",
              "    pm.expect(res.commission).to.exist;\r",
              "    pm.expect(res.commission).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Current Balance\r",
              "pm.test(\"Current balance exists and is number\", function () {\r",
              "    pm.expect(res.currentBalance).to.exist;\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"{{SYSTEM}}\",\r\n  \"to_account\": \"{{Agent_Phone_Number}}\",\r\n  \"amount\": 0.999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999\r\n\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/deposit",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "deposit"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Deposit (SYSTEM  Customer)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Parse response\r",
              "let res = pm.response.json();\r",
              "\r",
              "\r",
              "// Status code 201 OK\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// Content-Type JSON\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// Response time\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "// Authorization Secret Key exists in request\r",
              "pm.test(\"Auth Secret Key exists\", function () {\r",
              "    pm.expect(pm.request.headers.has(\"AUTH-SECRET-KEY\"\r",
              ")).to.be.true;\r",
              "});\r",
              "\r",
              "// Body not empty\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "\r",
              "// Message\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Customer balance credited successfully\");\r",
              "});\r",
              "\r",
              "// Transaction ID\r",
              "pm.test(\"Transaction ID exists\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "});\r",
              "\r",
              "// Source\r",
              "pm.test(\"Source is SYSTEM\", function () {\r",
              "    pm.expect(res.source).to.eql(\"SYSTEM\");\r",
              "});\r",
              "\r",
              "// Credited Amount\r",
              "pm.test(\"Credited amount is number\", function () {\r",
              "    pm.expect(res.creditedAmount).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Fee\r",
              "pm.test(\"Fee is number\", function () {\r",
              "    pm.expect(res.fee).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Commission\r",
              "pm.test(\"Commission is number\", function () {\r",
              "    pm.expect(res.commission).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Current Balance\r",
              "pm.test(\"Current balance is number\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"{{SYSTEM}}\",\r\n  \"to_account\": \"01611111111\",\r\n  \"amount\": 10000\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/customer/deposit",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "customer",
            "deposit"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Deposit (AGENT  Customer)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Parse response\r",
              "let res = pm.response.json();\r",
              "\r",
              "\r",
              "// Status code 201 OK\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// Content-Type JSON\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "      .to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// Response time\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "// Authorization Secret Key exists in request\r",
              "pm.test(\"Auth Secret Key exists\", function () {\r",
              "    pm.expect(pm.request.headers.has(\"AUTH-SECRET-KEY\"\r",
              ")).to.be.true;\r",
              "});\r",
              "\r",
              "// Body not empty\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "\r",
              "// Message\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Customer balance credited successfully\");\r",
              "});\r",
              "\r",
              "// Transaction ID\r",
              "pm.test(\"Transaction ID exists\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "});\r",
              "\r",
              "// Source\r",
              "pm.test(\"Source is Agent\", function () {\r",
              "    pm.expect(res.source).to.eql(\"AGENT\");\r",
              "});\r",
              "\r",
              "// Credited Amount\r",
              "pm.test(\"Credited amount is number\", function () {\r",
              "    pm.expect(res.creditedAmount).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Fee\r",
              "pm.test(\"Fee is number\", function () {\r",
              "    pm.expect(res.fee).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Commission\r",
              "pm.test(\"Commission is number\", function () {\r",
              "    pm.expect(res.commission).to.be.a(\"number\");\r",
              "});\r",
              "\r",
              "// Current Balance\r",
              "pm.test(\"Current balance is number\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"{{Agent_Phone_Number}}\",\r\n  \"to_account\": \"{{Customer_Phone_Number}}\",\r\n  \"amount\": 50\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/customer/deposit",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "customer",
            "deposit"
          ]
        }
      },
      "response": []
    },
    {
      "name": "withdraw-customer-to-agent",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Response parse kora\r",
              "let res = pm.response.json();\r",
              "\r",
              "// 1. Status Code Assertion (201 OK)\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// 2. Content-Type Assertion\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// 3. Response Time Assertion (Optional but recommended)\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "// 4. Response Body empty kina check\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "\r",
              "// 5. Message Assertion\r",
              "pm.test(\"Message is: Withdraw successful\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Withdraw successful\");\r",
              "});\r",
              "\r",
              "// 6. Transaction ID exist kore kina\r",
              "pm.test(\"trnxId exists and is valid\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "    pm.expect(res.trnxId).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "// 7. Fee Assertion\r",
              "pm.test(\"Fee is 5 and is a number\", function () {\r",
              "    pm.expect(res.fee).to.be.a(\"number\");\r",
              "    pm.expect(res.fee).to.eql(5);\r",
              "});\r",
              "\r",
              "// 8. Current Balance Assertion\r",
              "pm.test(\"Current balance is Number\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "  \r",
              "});\r",
              "\r",
              "// 9. Data Type Integrity Check\r",
              "pm.test(\"All fields have correct data types\", function () {\r",
              "    pm.expect(res.message).to.be.a('string');\r",
              "    pm.expect(res.trnxId).to.be.a('string');\r",
              "    pm.expect(res.fee).to.be.a('number');\r",
              "    pm.expect(res.currentBalance).to.be.a('number');\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text",
            "disabled": true
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"01622222222\",\r\n  \"to_account\": \"01512345678\",\r\n  \"amount\": 1\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/withdraw",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "withdraw"
          ]
        }
      },
      "response": []
    },
    {
      "name": "send-money-customer-to-customer",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Response parse kora\r",
              "let res = pm.response.json();\r",
              "\r",
              "// 1. Status Code Assertion (201 OK)\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// 2. Content-Type Assertion\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// 3. Response Time Assertion\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "\r",
              "// 4. Response Body empty kina check\r",
              "pm.test(\"Response body is not empty\", function () {\r",
              "    pm.expect(pm.response.text()).to.not.be.empty;\r",
              "});\r",
              "\r",
              "// 5. Message Assertion\r",
              "pm.test(\"Message is: Send money successful\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Send money successful\");\r",
              "});\r",
              "\r",
              "// 6. Transaction ID exist kore kina\r",
              "pm.test(\"trnxId exists and is valid\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "    pm.expect(res.trnxId).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "// 7. Current Balance Assertion\r",
              "pm.test(\"Current balance is Number\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "  \r",
              "});\r",
              "\r",
              "// 8. Fee Assertion\r",
              "pm.test(\"Numeric value of fee is 1.5\", function () {\r",
              "    let feeNum = parseFloat(res.fee); // typecaste [string to float and check]\r",
              "    pm.expect(feeNum).to.eql(1.50);\r",
              "});\r",
              "\r",
              "// 9. Data Type Integrity Check (All fields)\r",
              "pm.test(\"All fields have correct data types\", function () {\r",
              "    pm.expect(res.message).to.be.a('string');       \r",
              "    pm.expect(res.trnxId).to.be.a('string');        \r",
              "    pm.expect(res.fee).to.be.a('string');           \r",
              "    pm.expect(res.currentBalance).to.be.a('number'); \r",
              "});\r",
              "\r",
              "// 10. Check if Current Balance is greater than 0\r",
              "pm.test(\"Balance is positive\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.above(0);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"01611111111\",\r\n  \"to_account\": \"01622222222\",\r\n  \"amount\": 1\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/sendmoney",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "sendmoney"
          ]
        }
      },
      "response": []
    },
    {
      "name": "payment-customer-to-merchant",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "let res = pm.response.json();\r",
              "\r",
              "// 1. Status Code Assertion (201 OK)\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "// 2. Content-Type Assertion\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
              "});\r",
              "\r",
              "// 3. Response Time Assertion\r",
              "pm.test(\"Response time is below 1000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
              "});\r",
              "pm.test(\"Message exists\", function () {\r",
              "    pm.expect(res.message).to.exist;\r",
              "});\r",
              "\r",
              "pm.test(\"Message is string\", function () {\r",
              "    pm.expect(res.message).to.be.a(\"string\");\r",
              "});\r",
              "\r",
              "pm.test(\"Payment successful message\", function () {\r",
              "    pm.expect(res.message).to.eql(\"Payment successful\");\r",
              "});\r",
              "pm.test(\"Transaction ID exists\", function () {\r",
              "    pm.expect(res.trnxId).to.exist;\r",
              "});\r",
              "\r",
              "pm.test(\"Transaction ID is string\", function () {\r",
              "    pm.expect(res.trnxId).to.be.a(\"string\");\r",
              "});\r",
              "pm.test(\"Commission exists\", function () {\r",
              "    pm.expect(res.commission).to.exist;\r",
              "});\r",
              "\r",
              "\r",
              "\r",
              "pm.test(\"Commission >= 0\", function () {\r",
              "    pm.expect(parseFloat(res.commission)).to.be.at.least(0);\r",
              "});\r",
              "pm.test(\"Current balance exists\", function () {\r",
              "    pm.expect(res.currentBalance).to.exist;\r",
              "});\r",
              "\r",
              "pm.test(\"Current balance is number\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Transaction ID starts with TXN\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.trnxId.startsWith(\"TXN\")).to.be.true;\r",
              "});\r",
              "pm.test(\"Commission is numeric\", function () {\r",
              "    var res = pm.response.json();\r",
              "    var commission = parseFloat(res.commission);\r",
              "    pm.expect(commission).to.be.a(\"number\");\r",
              "    pm.expect(commission).to.be.at.least(0);\r",
              "});\r",
              "\r",
              "pm.test(\"Current balance >= 0\", function () {\r",
              "    pm.expect(res.currentBalance).to.be.at.least(0);\r",
              "});\r",
              "\r",
              "pm.test(\"Amount sent exists and is number\", function () {\r",
              "    var req = JSON.parse(pm.request.body.raw);\r",
              "    pm.expect(req.amount).to.exist;\r",
              "    pm.expect(req.amount).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Current balance is greater than 0\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.currentBalance).to.be.a(\"number\"); // type check\r",
              "    pm.expect(res.currentBalance).to.be.above(0);    // positive check\r",
              "});\r",
              "\r",
              "\r",
              "\r",
              "pm.test(\"All fields exist\", function () {\r",
              "    pm.expect(res).to.have.property(\"message\");\r",
              "    pm.expect(res).to.have.property(\"trnxId\");\r",
              "    pm.expect(res).to.have.property(\"commission\");\r",
              "    pm.expect(res).to.have.property(\"currentBalance\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_account\": \"01611111111\",\r\n  \"to_account\": \"01812345678\",\r\n  \"amount\": 50\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/transaction/payment",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "transaction",
            "payment"
          ]
        }
      },
      "response": []
    },
    {
      "name": "commission-listing",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var response = pm.response.json();\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
              "});\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"Commission list\");\r",
              "});\r",
              "pm.test(\"Count is >= commissions array length\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.count).to.be.at.least(res.commissions.length);\r",
              "});\r",
              "pm.test(\"Count exists and is numeric\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.count).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Commissions is an array\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.commissions).to.be.an(\"array\");\r",
              "});\r",
              "pm.test(\"First commission object has all fields\", function () {\r",
              "    var commission = pm.response.json().commissions[0];\r",
              "    pm.expect(commission).to.have.property(\"id\");\r",
              "    pm.expect(commission).to.have.property(\"from_role\");\r",
              "    pm.expect(commission).to.have.property(\"to_role\");\r",
              "    pm.expect(commission).to.have.property(\"type\");\r",
              "    pm.expect(commission).to.have.property(\"value\");\r",
              "    pm.expect(commission).to.have.property(\"status\");\r",
              "    pm.expect(commission).to.have.property(\"created_at\");\r",
              "    pm.expect(commission).to.have.property(\"updated_at\");\r",
              "});\r",
              "pm.test(\"First commission values are correct\", function () {\r",
              "    var c = pm.response.json().commissions[0];\r",
              "    pm.expect(c.id).to.eql(178);\r",
              "    pm.expect(c.from_role).to.eql(\"Customer\");\r",
              "    pm.expect(c.to_role).to.eql(\"Customer\");\r",
              "    pm.expect(c.type).to.eql(\"FIXED\");\r",
              "    pm.expect(c.value).to.eql(\"1.50\");\r",
              "    pm.expect(c.status).to.eql(\"ACTIVE\");\r",
              "    pm.expect(c.created_at).to.eql(\"2026-02-16T10:18:40.000000Z\");\r",
              "    pm.expect(c.updated_at).to.eql(\"2026-02-16T10:18:40.000000Z\");\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY-SYSTEM",
            "value": "{{SECRET_KEY_SYSTEM}}",
            "type": "text"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{admin_token}}",
            "type": "text",
            "disabled": true
          }
        ],
        "url": {
          "raw": "{{base_url}}/commission/list?page=1&limit=20",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "commission",
            "list"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "limit",
              "value": "20"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "commission-create",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "let res = pm.response.json();\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "        .to.include(\"application/json\");\r",
              "});\r",
              "pm.test(\"Response time under 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"Commission created successfully\");\r",
              "});\r",
              "pm.test(\"commission_id exists and is number\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.commission_id).to.exist;\r",
              "    pm.expect(res.commission_id).to.be.a(\"number\");\r",
              "});\r",
              "pm.test(\"Commission object exists\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.commission).to.exist;\r",
              "});\r",
              "pm.test(\"Commission object field types\", function () {\r",
              "    var c = pm.response.json().commission;\r",
              "\r",
              "    pm.expect(c.id).to.be.a(\"number\");\r",
              "\r",
              "    pm.expect(c.from_role).to.be.a(\"string\");\r",
              "    pm.expect([\"Customer\",\"Merchant\",\"Agent\",\"Distributor\"]).to.include(c.from_role);\r",
              "\r",
              "    pm.expect(c.to_role).to.be.a(\"string\");\r",
              "    pm.expect([\"Customer\",\"Merchant\",\"Agent\",\"Distributor\"]).to.include(c.to_role);\r",
              "\r",
              "    pm.expect(c.type).to.be.a(\"string\");\r",
              "    pm.expect([\"FIXED\",\"PERCENTAGE\"]).to.include(c.type);\r",
              "\r",
              "    pm.expect(c.value).to.be.a(\"number\");\r",
              "\r",
              "    pm.expect(c.created_at).to.be.a(\"string\");\r",
              "    pm.expect(c.updated_at).to.be.a(\"string\");\r",
              "});\r",
              "pm.test(\"Commission value is positive\", function () {\r",
              "    var c = pm.response.json().commission;\r",
              "    pm.expect(c.value).to.be.above(0);\r",
              "});\r",
              "pm.test(\"Created and Updated date format\", function () {\r",
              "    var c = pm.response.json().commission;\r",
              "    pm.expect(c.created_at).to.include(\"T\");\r",
              "    pm.expect(c.updated_at).to.include(\"T\");\r",
              "});\r",
              "pm.test(\"Commission response matches request\", function () {\r",
              "    var res = pm.response.json();\r",
              "    var body = pm.request.body.raw ? JSON.parse(pm.request.body.raw) : null;\r",
              "\r",
              "    var c = res.commission;\r",
              "\r",
              "    pm.expect(c.from_role).to.eql(body.from_role);\r",
              "    pm.expect(c.to_role).to.eql(body.to_role);\r",
              "    pm.expect(c.type).to.eql(body.type);\r",
              "    pm.expect(c.value).to.eql(body.value);\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY-SYSTEM",
            "value": "{{SECRET_KEY_SYSTEM}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"from_role\": \"Customer\",\r\n  \"to_role\": \"Merchant\",\r\n  \"type\": \"FIXED\",\r\n  \"value\": 5\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/commission/create",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "commission",
            "create"
          ]
        }
      },
      "response": []
    },
    {
      "name": "admin-create-virtual-money",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "let res = pm.response.json();\r",
              "pm.test(\"Status code is 201\", function () {\r",
              "    pm.response.to.have.status(201);\r",
              "});\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "        .to.include(\"application/json\");\r",
              "});\r",
              "pm.test(\"Response time under 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "pm.test(\"AUTH-SECRET-KEY header exists\", function () {\r",
              "    pm.expect(pm.request.headers.get(\"AUTH-SECRET-KEY\")).to.exist;\r",
              "});\r",
              "\r",
              "pm.test(\"AUTH-SECRET-KEY-SYSTEM header exists\", function () {\r",
              "    pm.expect(pm.request.headers.get(\"AUTH-SECRET-KEY-SYSTEM\")).to.exist;\r",
              "});\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"Virtual money created successfully\");\r",
              "});\r",
              "pm.test(\"Amount added matches request\", function () {\r",
              "    var res = pm.response.json();\r",
              "    var body = pm.request.body.raw ? JSON.parse(pm.request.body.raw) : null;\r",
              "\r",
              "    pm.expect(res.amountAdded).to.eql(body.amount);\r",
              "});\r",
              "pm.test(\"System balance is numeric\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.systemBalance).to.be.a(\"number\");\r",
              "    pm.expect(res.systemBalance).to.be.above(0);\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "POST",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY-SYSTEM",
            "value": "{{SECRET_KEY_SYSTEM}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"amount\": 100\r\n\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/system/virtual-money/create",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "system",
            "virtual-money",
            "create"
          ]
        }
      },
      "response": []
    },
    {
      "name": "system-virtual-balance",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "pm.test(\"Content-Type is application/json\", function () {\r",
              "    pm.expect(pm.response.headers.get(\"Content-Type\"))\r",
              "        .to.include(\"application/json\");\r",
              "});\r",
              "pm.test(\"Response time under 2000ms\", function () {\r",
              "    pm.expect(pm.response.responseTime).to.be.below(2000);\r",
              "});\r",
              "pm.test(\"Message is correct\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.message).to.eql(\"System balance retrieved successfully\");\r",
              "});\r",
              "pm.test(\"Balance exists\", function () {\r",
              "    var res = pm.response.json();\r",
              "    pm.expect(res.balance).to.exist;\r",
              "});\r",
              "pm.test(\"Balance is numeric string\", function () {\r",
              "    var res = pm.response.json();\r",
              "    var balance = parseFloat(res.balance);\r",
              "    pm.expect(balance).to.be.a(\"number\");\r",
              "    pm.expect(balance).to.be.above(0);\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "bearer",
          "bearer": [
            {
              "key": "token",
              "value": "{{admin_token}}",
              "type": "string"
            }
          ]
        },
        "method": "GET",
        "header": [
          {
            "key": "AUTH-SECRET-KEY",
            "value": "{{AUTH-SECRET-KEY}}",
            "type": "text"
          },
          {
            "key": "AUTH-SECRET-KEY-SYSTEM",
            "value": "{{SECRET_KEY_SYSTEM}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{base_url}}/system/balance",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "system",
            "balance"
          ]
        }
      },
      "response": []
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{admin_token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ]
}